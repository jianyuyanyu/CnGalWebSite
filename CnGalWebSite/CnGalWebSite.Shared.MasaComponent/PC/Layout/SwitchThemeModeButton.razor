@inject IDataCacheService _dataCacheService
@inject IEventService _eventService

<CnGalWebSite.Components.Buttons.MasaButton Icon="mdi-theme-light-dark" Tooltip="切换主题" OnClick="OnSwitch" Class="@Class" />
<CnGalWebSite.Shared.MasaComponent.PC.Layout.ThemeSettingCard @ref="themeSettingCard" />

@code {
    [Parameter]
    public string Class { get; set; }

    CnGalWebSite.Shared.MasaComponent.PC.Layout.ThemeSettingCard themeSettingCard;

    public void OnClick()
    {
        if (themeSettingCard != null)
        {
            themeSettingCard.Refresh(true);
        }

        _eventService.OnSavaTheme();
    }

    public void OnSwitch()
    {
        themeSettingCard.ToggleLightDarkTheme();
    }
}
